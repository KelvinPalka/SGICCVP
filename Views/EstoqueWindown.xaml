<Window x:Class="WPF_Projeto_BD.Views.EstoqueWindown"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Estoque" Height="900" Width="1400" Background="#F3F3F3">

    <Grid Margin="20">

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- TÍTULO -->
        <DockPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="Estoque"
               FontSize="30"
               FontWeight="Bold"
               Foreground="#2E2E2E"
               DockPanel.Dock="Left"/>

            <Button Content="⟵ Voltar"
            Background="#E1E5ED"
            Foreground="#2E2E2E"
            BorderThickness="0"
            Padding="10,5"
            Width="100"
            Cursor="Hand"
            Click="BtnVoltar_Click"
            DockPanel.Dock="Right"
            HorizontalAlignment="Right"/>
        </DockPanel>


        <!-- ÁREA DE ABAS -->
        <TabControl Grid.Row="1" Background="White" BorderThickness="0">

            <!-- =========================== -->
            <!--       ABA: VISÃO GERAL      -->
            <!-- =========================== -->
            <TabItem Header="Visão Geral">
                <ScrollViewer>
                    <StackPanel Margin="20">

                        <!-- CARDS DE INDICADORES -->
                        <StackPanel Orientation="Horizontal">

                            <!-- CARD TOTAL ITENS -->
                            <Border Background="White" Padding="20" Width="300"
                                    CornerRadius="8" BorderBrush="#DDD" BorderThickness="1"
                                    Margin="0 0 20 0">
                                <StackPanel>
                                    <TextBlock Text="Total de Itens"
                                               FontSize="18" FontWeight="Bold"/>
                                    <TextBlock x:Name="txtTotalItens"
                                               Text="0"
                                               FontSize="28" FontWeight="Bold"
                                               Foreground="#3F51B5"
                                               Margin="0 10 0 0"/>
                                </StackPanel>
                            </Border>

                            <!-- CARD ITENS CRÍTICOS -->
                            <Border Background="White" Padding="20" Width="300"
                                    CornerRadius="8" BorderBrush="#DDD" BorderThickness="1"
                                    Margin="0 0 20 0">
                                <StackPanel>
                                    <TextBlock Text="Itens em Baixa"
                                               FontSize="18" FontWeight="Bold"/>
                                    <TextBlock x:Name="txtItensCriticos"
                                               Text="0"
                                               FontSize="28" FontWeight="Bold"
                                               Foreground="#E53935"
                                               Margin="0 10 0 0"/>
                                </StackPanel>
                            </Border>

                            <!-- CARD ÚLTIMA ATUALIZAÇÃO -->
                            <Border Background="White" Padding="20" Width="300"
                                    CornerRadius="8" BorderBrush="#DDD" BorderThickness="1">
                                <StackPanel>
                                    <TextBlock Text="Última Atualização"
                                               FontSize="18" FontWeight="Bold"/>
                                    <TextBlock x:Name="txtUltimaAtualizacao"
                                               Text="-"
                                               FontSize="24" FontWeight="Bold"
                                               Foreground="#555"
                                               Margin="0 10 0 0"/>
                                </StackPanel>
                            </Border>

                        </StackPanel>

                        <!-- ÁREA DE GRÁFICOS -->
                        <Border Background="White" Padding="20"
                                CornerRadius="8" BorderBrush="#DDD" BorderThickness="1"
                                Margin="0 30 0 0" Height="350">
                            <TextBlock Text="(Gráfico: Quantidade em Estoque por Categoria)"
                                       HorizontalAlignment="Center" VerticalAlignment="Center"
                                       Foreground="#777"/>
                        </Border>

                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- =========================== -->
            <!--     ABA: MATÉRIAS-PRIMAS    -->
            <!-- =========================== -->
            <TabItem Header="Matérias-Primas">
                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- FILTROS -->
                    <StackPanel Orientation="Horizontal" Margin="0 0 0 20">

                        <StackPanel Margin="0 0 20 0">
                            <TextBlock Text="Categoria" FontWeight="Bold"/>
                            <ComboBox x:Name="cbCategoriaMP" Width="200">
                                <ComboBoxItem Content="Tecido"/>
                                <ComboBoxItem Content="Linha"/>
                                <ComboBoxItem Content="Fio"/>
                                <ComboBoxItem Content="Tinta"/>
                                <ComboBoxItem Content="Papel"/>
                            </ComboBox>
                        </StackPanel>

                        <StackPanel Margin="0 0 20 0">
                            <TextBlock Text="Buscar por Nome" FontWeight="Bold"/>
                            <TextBox x:Name="txtBuscaMP" Width="200"/>
                        </StackPanel>

                        <Button x:Name="btnFiltrarMP"
                                Content="Filtrar"
                                Width="120"
                                Height="38"
                                Margin="10 20 0 0"
                                Background="#4CAF50"
                                Foreground="White"
                                FontWeight="SemiBold"/>
                    </StackPanel>

                    <!-- TABELA -->
                    <DataGrid Grid.Row="1"
                              x:Name="dgMateriasPrimas"
                              AutoGenerateColumns="False"
                              AlternatingRowBackground="#F5F5F5"
                              Background="White"
                              BorderThickness="1"
                              BorderBrush="#DDD">

                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="60"/>
                            <DataGridTextColumn Header="Tipo" Binding="{Binding Tipo}" Width="*"/>
                            <DataGridTextColumn Header="Cor" Binding="{Binding Cor}" Width="120"/>
                            <DataGridTextColumn Header="Quantidade" Binding="{Binding Quantidade}" Width="150"/>
                            <DataGridTextColumn Header="Valor" Binding="{Binding Valor}" Width="120"/>
                            <DataGridTextColumn Header="Estoque" Binding="{Binding Local}" Width="180"/>
                        </DataGrid.Columns>

                    </DataGrid>

                </Grid>
            </TabItem>

            <!-- =========================== -->
            <!--     ABA: PRODUTOS           -->
            <!-- =========================== -->
            <TabItem Header="Produtos">
                <Grid Margin="20">

                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- FILTRO -->
                    <StackPanel Orientation="Horizontal" Margin="0 0 0 20">
                        <StackPanel Margin="0 0 20 0">
                            <TextBlock Text="Buscar Produto" FontWeight="Bold"/>
                            <TextBox x:Name="txtBuscarProduto" Width="240"/>
                        </StackPanel>

                        <Button x:Name="btnBuscarProduto"
                                Content="Pesquisar"
                                Width="120"
                                Height="38"
                                Margin="10 20 0 0"
                                Background="#4CAF50"
                                Foreground="White"/>
                    </StackPanel>

                    <!-- TABELA -->
                    <DataGrid Grid.Row="1"
                              x:Name="dgProdutos"
                              AutoGenerateColumns="False"
                              AlternatingRowBackground="#F5F5F5"
                              Background="White"
                              BorderBrush="#DDD">

                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="80"/>
                            <DataGridTextColumn Header="Tipo de Produto" Binding="{Binding Tipo}" Width="*"/>
                            <DataGridTextColumn Header="Materiais" Binding="{Binding Materiais}" Width="*"/>
                            <DataGridTextColumn Header="Quantidade em Estoque" Binding="{Binding Quantidade}" Width="200"/>
                        </DataGrid.Columns>
                    </DataGrid>

                </Grid>
            </TabItem>

            <!-- =========================== -->
            <!--     ABA: ATUALIZAÇÕES       -->
            <!-- =========================== -->
            <TabItem Header="Atualizações de Estoque">
                <Grid Margin="20">

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="3*"/>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- FORMULÁRIO -->
                    <Border Background="White" Padding="20"
                            CornerRadius="8" BorderBrush="#DDD" BorderThickness="1"
                            Margin="0 0 20 0">

                        <StackPanel>

                            <TextBlock Text="Registrar Movimentação"
                                       FontSize="20" FontWeight="Bold" Margin="0 0 0 10"/>

                            <TextBlock Text="Item:" FontWeight="Bold"/>
                            <TextBox x:Name="txtItemAtualizacao" Width="240"/>

                            <TextBlock Text="Quantidade:" Margin="0 10 0 0" FontWeight="Bold"/>
                            <TextBox x:Name="txtQuantidadeAtualizacao" Width="240"/>

                            <TextBlock Text="Tipo de Movimentação:" Margin="0 10 0 0" FontWeight="Bold"/>
                            <ComboBox x:Name="cbTipoMov" Width="240">
                                <ComboBoxItem Content="Entrada"/>
                                <ComboBoxItem Content="Saída"/>
                                <ComboBoxItem Content="Ajuste"/>
                            </ComboBox>

                            <Button x:Name="btnRegistrarMov"
                                    Content="Registrar"
                                    Width="160"
                                    Height="40"
                                    Margin="0 20 0 0"
                                    Background="#4CAF50"
                                    Foreground="White"/>
                        </StackPanel>

                    </Border>

                    <!-- LISTA -->
                    <Border Grid.Column="1" Grid.RowSpan="2"
                            Background="White" Padding="20"
                            CornerRadius="8" BorderBrush="#DDD" BorderThickness="1">

                        <StackPanel>
                            <TextBlock Text="Histórico de Movimentações"
                                       FontSize="20" FontWeight="Bold" Margin="0 0 0 10"/>

                            <DataGrid x:Name="dgMovimentacoes"
                                      AutoGenerateColumns="False"
                                      AlternatingRowBackground="#F5F5F5">

                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Data" Binding="{Binding Data}" Width="150"/>
                                    <DataGridTextColumn Header="Item" Binding="{Binding Item}" Width="*"/>
                                    <DataGridTextColumn Header="Quantidade" Binding="{Binding Quantidade}" Width="150"/>
                                    <DataGridTextColumn Header="Tipo" Binding="{Binding Tipo}" Width="150"/>
                                </DataGrid.Columns>

                            </DataGrid>
                        </StackPanel>

                    </Border>

                </Grid>
            </TabItem>

            <!-- =========================== -->
            <!--     ABA: RELATÓRIOS         -->
            <!-- =========================== -->
            <TabItem Header="Relatórios">
                <Grid Margin="20">
                    <StackPanel>

                        <Border Background="White" Padding="20"
                                CornerRadius="8" BorderBrush="#DDD" BorderThickness="1"
                                Height="420">

                            <TextBlock Text="(Gráfico: Consumo Mensal / Entradas x Saídas)"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       Foreground="#777"/>
                        </Border>

                        <Button x:Name="btnGerarRelatorio"
                                Content="Gerar Relatório PDF"
                                Width="220"
                                Height="40"
                                Margin="0 20 0 0"
                                Background="#3F51B5"
                                Foreground="White"
                                FontWeight="SemiBold"/>
                    </StackPanel>
                </Grid>
            </TabItem>

        </TabControl>

    </Grid>
</Window>
